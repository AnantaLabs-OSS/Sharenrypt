const d=async a=>{var r;const n=[],o=[];for(let i=0;i<a.length;i++){const e=a[i];if(e.kind==="file"){const s=(r=e.webkitGetAsEntry)==null?void 0:r.call(e);if(s)o.push(c(s,n));else{const t=e.getAsFile();t&&n.push(t)}}}return await Promise.all(o),n},c=async(a,n,o="")=>{if(a.isFile)return new Promise((r,i)=>{a.file(e=>{const s=o+e.name,t=new File([e],e.name,{type:e.type,lastModified:e.lastModified});Object.defineProperty(t,"webkitRelativePath",{value:s}),n.push(t),r()},e=>i(e))});if(a.isDirectory){const r=a.createReader(),i=o+a.name+"/",e=async()=>{const s=await new Promise((t,l)=>{r.readEntries(t,l)});s.length>0&&(await Promise.all(s.map(t=>c(t,n,i))),await e())};await e()}};export{d as getFilesFromDataTransfer};
